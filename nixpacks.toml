# Force Railway to switch to Nixpacks (é€™æ˜¯è¨»è§£ï¼Œå¼·è¿«æ›´æ–°)
# Railway å°ˆç”¨è¨­å®šæª”ï¼šå¼·åˆ¶å®‰è£ MySQL é©…å‹•ç¨‹å¼

[phases.setup]
# å®‰è£å¿…è¦çš„ Linux ç³»çµ±å¥—ä»¶
nixPkgs = ["python3", "mysql-client", "mariadb-connector-c", "pkg-config", "gcc"]

[phases.build]
cmds = ["python -m venv /opt/venv && . /opt/venv/bin/activate && pip install -r requirements.txt"]

[start]
cmd = "gunicorn run:app"

# ğŸ‘‡ğŸ‘‡ğŸ‘‡ æ‚¨ä¹‹å‰æ¼æ‰äº†é€™ä¸€æ®µï¼Œé€™æ˜¯æœ€é‡è¦çš„ï¼ ğŸ‘‡ğŸ‘‡ğŸ‘‡
[variables]
# å‘Šè¨´ç³»çµ±å»å“ªè£¡æ‰¾ libmariadb.so.3
LD_LIBRARY_PATH = "/nix/var/nix/profiles/default/lib"