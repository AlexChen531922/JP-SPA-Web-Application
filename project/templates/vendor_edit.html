{% extends "base.html" %} {% block title %}Edit Image{% endblock %} {% block
content %}
<div class="container py-4">
  <h2 class="h5 mb-3">Edit image</h2>
  <form method="POST" enctype="multipart/form-data" class="row g-3">
    {{ form.csrf_token }}
    <div class="col-12 col-md-4">
      <div class="rounded-4 border p-3">
        <div class="ratio ratio-4x3 mb-3">
          <img src="{{ url_for('static', filename=image.url) }}" class="w-100 h-100 object-fit-cover rounded-3"
            alt="{{ image.title }}" />
        </div>
        <label class="form-label fw-semibold">Replace image (optional)</label>
        {{ form.image(class="form-control", accept='image/*') }}
      </div>
    </div>
    <div class="col-12 col-md-8">
      <div class="card rounded-4">
        <div class="card-body">
          <div class="row g-3">
            <div class="col-12">
              <label class="form-label fw-semibold">Title</label>
              {{ form.title(class="form-control") }}
            </div>
            <div class="col-12">
              <label class="form-label fw-semibold">Description</label>
              {{ form.description(class="form-control", rows="3") }}
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Event</label>
              {{ form.event_id(class="form-select") }}
            </div>
            <label class="form-label fw-semibold">Categories</label>
            <div class="row row-cols-2 row-cols-md-3 g-2">
              {% for c in category_list %}
                <div class="col">
                  <div class="form-check">
                    <input class="form-check-input"
                          type="checkbox"
                          name="category_ids"
                          id="cat-{{ c.id }}"
                          value="{{ c.id }}"
                          {% if selected_category_ids and c.id in selected_category_ids %}checked{% endif %}>
                    <label class="form-check-label" for="cat-{{ c.id }}">{{ c.name }}</label>
                  </div>
                </div>
              {% endfor %}
            </div>

            <label class="form-label fw-semibold mt-3">License</label>
            <select name="license_id" class="form-select">
              <option value="">â€”</option>
              {% for l in licenses %}
                <option value="{{ l.id }}" {{ 'selected' if current_license_id and l.id==current_license_id else '' }}>
                  {{ l.type }}
                </option>
              {% endfor %}
            </select>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Resolution</label>
              {{ form.resolution(class="form-select") }}
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Format</label>
              {{ form.format(class="form-select") }}
            </div>
            <div class="col-md-6">
              <label class="form-label fw-semibold">Price</label>
              <div class="input-group">
                <span class="input-group-text">$</span>
                {{ form.price(class="form-control", min="0", step="0.01") }}
              </div>
            </div>
            <div class="col-12">
              {{ form.submit(class="btn btn-dark w-100") }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
{% endblock %}